dcb5b74db214a5506b28adbc51e82cf9
'use strict';

var _LinkedList = require('../LinkedList');

var _LinkedList2 = _interopRequireDefault(_LinkedList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('LinkedList', function () {
    it('should create empty linked list', function () {
        var linkedList = new _LinkedList2.default();
        expect(linkedList.toString()).toBe('');
    });

    it('should prepend node to linked list', function () {
        var linkedList = new _LinkedList2.default();

        linkedList.prepend(2);

        expect(linkedList.head.toString()).toBe('2');
        expect(linkedList.tail.toString()).toBe('2');

        linkedList.append(1);
        linkedList.prepend(3);

        expect(linkedList.toString()).toBe('3,2,1');
    });

    it('should append node to linked list', function () {
        var linkedList = new _LinkedList2.default();

        expect(linkedList.head).toBeNull();
        expect(linkedList.tail).toBeNull();

        linkedList.append(1);
        linkedList.append(2);

        expect(linkedList.toString()).toBe('1,2');
        expect(linkedList.tail.next).toBeNull();
    });

    it('should be possible to store objects in the list and to print them out', function () {
        var linkedList = new _LinkedList2.default();

        var nodeValue1 = { value: 1, key: 'key1' };
        var nodeValue2 = { value: 2, key: 'key2' };
        linkedList.append(nodeValue1).prepend(nodeValue2);
        var nodeStringifier = function nodeStringifier(value) {
            return value.key + ':' + value.value;
        };
        expect(linkedList.toString(nodeStringifier)).toBe('key2:2,key1:1');
    });

    it('should find node by value', function () {
        var linkedList = new _LinkedList2.default();

        linkedList.append(1);
        linkedList.append(2);
        linkedList.append(3);
        linkedList.append(4);
        expect(linkedList.find({ value: 1 }).toString()).toBe('1');
        expect(linkedList.find({ value: 5 })).toBeNull();
    });

    it('should find node by callback', function () {
        var linkedList = new _LinkedList2.default();

        linkedList.append(1);
        linkedList.append(2);
        linkedList.append(3);
        linkedList.append(4);

        var equalOne = function equalOne(value) {
            return value === 1;
        };
        var equalFive = function equalFive(value) {
            return value === 5;
        };
        expect(linkedList.find({ callback: equalOne }).toString()).toBe('1');
        expect(linkedList.find({ callback: equalFive })).toBeNull();
    });

    it('should find node by means of custom compare function', function () {
        var comparatorFunction = function comparatorFunction(a, b) {
            if (a.customValue === b.customValue) {
                return 0;
            }

            return a.customValue < b.customValue ? -1 : 1;
        };

        var linkedList = new _LinkedList2.default(comparatorFunction);
        linkedList.append({ value: 1, customValue: 'test1' }).append({ value: 2, customValue: 'test2' }).append({ value: 3, customValue: 'test3' });

        var node = linkedList.find({
            value: { value: 2, customValue: 'test2' }
        });

        expect(node).toBeDefined();
        expect(node.value.value).toBe(2);
        expect(node.value.customValue).toBe('test2');
        expect(linkedList.find({ value: 2, customValue: 'test5' })).toBeNull();
    });

    it('should delete node by value from linked list', function () {
        var linkedList = new _LinkedList2.default();

        expect(linkedList.delete(5)).toBeNull();

        linkedList.append(1);
        linkedList.append(1);
        linkedList.append(2);
        linkedList.append(3);
        linkedList.append(3);
        linkedList.append(3);
        linkedList.append(4);
        linkedList.append(5);
        expect(linkedList.head.toString()).toBe('1');
        expect(linkedList.tail.toString()).toBe('5');

        var deletedNode = linkedList.delete(3);
        expect(deletedNode.value).toBe(3);
        expect(linkedList.toString()).toBe('1,1,2,4,5');

        linkedList.delete(1);
        expect(linkedList.toString()).toBe('2,4,5');

        linkedList.delete(2);
        expect(linkedList.toString()).toBe('4,5');

        linkedList.delete(4);
        expect(linkedList.toString()).toBe('5');

        linkedList.delete(5);
        expect(linkedList.toString()).toBe('');
    });

    it('should delete tail node from linked list', function () {
        var linkedList = new _LinkedList2.default();

        linkedList.append(1);
        linkedList.append(2);
        linkedList.append(3);
        expect(linkedList.tail.toString()).toBe('3');

        linkedList.deleteTail();
        expect(linkedList.tail.toString()).toBe('2');

        linkedList.deleteTail();
        linkedList.deleteTail();
        expect(linkedList.tail).toBeNull();
    });

    it('should delete head node from linked list', function () {
        var linkedList = new _LinkedList2.default();

        linkedList.append(1);
        linkedList.append(2);
        linkedList.append(3);
        expect(linkedList.head.toString()).toBe('1');

        linkedList.deleteHead();
        expect(linkedList.head.toString()).toBe('2');

        linkedList.deleteHead();
        linkedList.deleteHead();
        expect(linkedList.head).toBeNull();
    });

    it('should make linked list from array list', function () {
        var linkedList = new _LinkedList2.default();
        var arrayList = [1, 2, 3, 4];
        expect(linkedList.fromArray(arrayList).toString()).toBe('1,2,3,4');
    });

    it('should reverse list from linked list', function () {
        var linkedList = new _LinkedList2.default();

        linkedList.append(1);
        linkedList.append(2);
        linkedList.append(3);
        linkedList.append(4);
        expect(linkedList.reverse().toString()).toBe('4,3,2,1');
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxpbmtlZExpc3QudGVzdC5qcyJdLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwibGlua2VkTGlzdCIsIkxpbmtlZExpc3QiLCJleHBlY3QiLCJ0b1N0cmluZyIsInRvQmUiLCJwcmVwZW5kIiwiaGVhZCIsInRhaWwiLCJhcHBlbmQiLCJ0b0JlTnVsbCIsIm5leHQiLCJub2RlVmFsdWUxIiwidmFsdWUiLCJrZXkiLCJub2RlVmFsdWUyIiwibm9kZVN0cmluZ2lmaWVyIiwiZmluZCIsImVxdWFsT25lIiwiZXF1YWxGaXZlIiwiY2FsbGJhY2siLCJjb21wYXJhdG9yRnVuY3Rpb24iLCJhIiwiYiIsImN1c3RvbVZhbHVlIiwibm9kZSIsInRvQmVEZWZpbmVkIiwiZGVsZXRlIiwiZGVsZXRlZE5vZGUiLCJkZWxldGVUYWlsIiwiZGVsZXRlSGVhZCIsImFycmF5TGlzdCIsImZyb21BcnJheSIsInJldmVyc2UiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7OztBQUVBQSxTQUFTLFlBQVQsRUFBdUIsWUFBTTtBQUN6QkMsT0FBRyxpQ0FBSCxFQUFzQyxZQUFNO0FBQ3hDLFlBQU1DLGFBQWEsSUFBSUMsb0JBQUosRUFBbkI7QUFDQUMsZUFBT0YsV0FBV0csUUFBWCxFQUFQLEVBQThCQyxJQUE5QixDQUFtQyxFQUFuQztBQUNILEtBSEQ7O0FBS0FMLE9BQUcsb0NBQUgsRUFBeUMsWUFBTTtBQUMzQyxZQUFNQyxhQUFhLElBQUlDLG9CQUFKLEVBQW5COztBQUVBRCxtQkFBV0ssT0FBWCxDQUFtQixDQUFuQjs7QUFFQUgsZUFBT0YsV0FBV00sSUFBWCxDQUFnQkgsUUFBaEIsRUFBUCxFQUFtQ0MsSUFBbkMsQ0FBd0MsR0FBeEM7QUFDQUYsZUFBT0YsV0FBV08sSUFBWCxDQUFnQkosUUFBaEIsRUFBUCxFQUFtQ0MsSUFBbkMsQ0FBd0MsR0FBeEM7O0FBRUFKLG1CQUFXUSxNQUFYLENBQWtCLENBQWxCO0FBQ0FSLG1CQUFXSyxPQUFYLENBQW1CLENBQW5COztBQUVBSCxlQUFP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QUlDLG9CQUFKLEVBQW5COztBQUVBRCxtQkFBV1EsTUFBWCxDQUFrQixDQUFsQjtBQUNBUixtQkFBV1EsTUFBWCxDQUFrQixDQUFsQjtBQUNBUixtQkFBV1EsTUFBWCxDQUFrQixDQUFsQjtBQUNBUixtQkFBV1EsTUFBWCxDQUFrQixDQUFsQjtBQUNBTixlQUFPRixXQUFXZ0MsT0FBWCxHQUFxQjdCLFFBQXJCLEVBQVAsRUFBd0NDLElBQXhDLENBQTZDLFNBQTdDO0FBQ0gsS0FSRDtBQVNILENBL0tEIiwiZmlsZSI6IkxpbmtlZExpc3QudGVzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMaW5rZWRMaXN0IGZyb20gJy4uL0xpbmtlZExpc3QnO1xuXG5kZXNjcmliZSgnTGlua2VkTGlzdCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBlbXB0eSBsaW5rZWQgbGlzdCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgbGlua2VkTGlzdCA9IG5ldyBMaW5rZWRMaXN0KCk7XG4gICAgICAgIGV4cGVjdChsaW5rZWRMaXN0LnRvU3RyaW5nKCkpLnRvQmUoJycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcmVwZW5kIG5vZGUgdG8gbGlua2VkIGxpc3QnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmtlZExpc3QgPSBuZXcgTGlua2VkTGlzdCgpO1xuXG4gICAgICAgIGxpbmtlZExpc3QucHJlcGVuZCgyKTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChsaW5rZWRMaXN0LmhlYWQudG9TdHJpbmcoKSkudG9CZSgnMicpO1xuICAgICAgICBleHBlY3QobGlua2VkTGlzdC50YWlsLnRvU3RyaW5nKCkpLnRvQmUoJzInKTtcblxuICAgICAgICBsaW5rZWRMaXN0LmFwcGVuZCgxKTtcbiAgICAgICAgbGlua2VkTGlzdC5wcmVwZW5kKDMpXG5cbiAgICAgICAgZXhwZWN0KGxpbmtlZExpc3QudG9TdHJpbmcoKSkudG9CZSgnMywyLDEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYXBwZW5kIG5vZGUgdG8gbGlua2VkIGxpc3QnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmtlZExpc3QgPSBuZXcgTGlua2VkTGlzdCgpO1xuXG4gICAgICAgIGV4cGVjdChsaW5rZWRMaXN0LmhlYWQpLnRvQmVOdWxsKCk7XG4gICAgICAgIGV4cGVjdChsaW5rZWRMaXN0LnRhaWwpLnRvQmVOdWxsKCk7XG5cbiAgICAgICAgbGlua2VkTGlzdC5hcHBlbmQoMSk7XG4gICAgICAgIGxpbmtlZExpc3QuYXBwZW5kKDIpO1xuXG4gICAgICAgIGV4cGVjdChsaW5rZWRMaXN0LnRvU3RyaW5nKCkpLnRvQmUoJzEsMicpO1xuICAgICAgICBleHBlY3QobGlua2VkTGlzdC50YWlsLm5leHQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIHBvc3NpYmxlIHRvIHN0b3JlIG9iamVjdHMgaW4gdGhlIGxpc3QgYW5kIHRvIHByaW50IHRoZW0gb3V0JywgKCkgPT4ge1xuICAgICAgICBjb25zdCBsaW5rZWRMaXN0ID0gbmV3IExpbmtlZExpc3QoKTtcblxuICAgICAgICBjb25zdCBub2RlVmFsdWUxID0geyB2YWx1ZTogMSwga2V5OiAna2V5MScgfTtcbiAgICAgICAgY29uc3Qgbm9kZVZhbHVlMiA9IHsgdmFsdWU6IDIsIGtleTogJ2tleTInIH07XG4gICAgICAgIGxpbmtlZExpc3RcbiAgICAgICAgICAgIC5hcHBlbmQobm9kZVZhbHVlMSlcbiAgICAgICAgICAgIC5wcmVwZW5kKG5vZGVWYWx1ZTIpO1xuICAgICAgICBjb25zdCBub2RlU3RyaW5naWZpZXIgPSB2YWx1ZSA9PiBgJHt2YWx1ZS5rZXl9OiR7dmFsdWUudmFsdWV9YDtcbiAgICAgICAgZXhwZWN0KGxpbmtlZExpc3QudG9TdHJpbmcobm9kZVN0cmluZ2lmaWVyKSkudG9CZSgna2V5MjoyLGtleTE6MScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaW5kIG5vZGUgYnkgdmFsdWUnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmtlZExpc3QgPSBuZXcgTGlua2VkTGlzdCgpO1xuXG4gICAgICAgIGxpbmtlZExpc3QuYXBwZW5kKDEpO1xuICAgICAgICBsaW5rZWRMaXN0LmFwcGVuZCgyKTtcbiAgICAgICAgbGlua2VkTGlzdC5hcHBlbmQoMyk7XG4gICAgICAgIGxpbmtlZExpc3QuYXBwZW5kKDQpO1xuICAgICAgICBleHBlY3QobGlua2VkTGlzdC5maW5kKHsgdmFsdWU6IDEgfSkudG9TdHJpbmcoKSkudG9CZSgnMScpO1xuICAgICAgICBleHBlY3QobGlua2VkTGlzdC5maW5kKHsgdmFsdWU6IDV9KSkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmluZCBub2RlIGJ5IGNhbGxiYWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBsaW5rZWRMaXN0ID0gbmV3IExpbmtlZExpc3QoKTtcblxuICAgICAgICBsaW5rZWRMaXN0LmFwcGVuZCgxKTtcbiAgICAgICAgbGlua2VkTGlzdC5hcHBlbmQoMik7XG4gICAgICAgIGxpbmtlZExpc3QuYXBwZW5kKDMpO1xuICAgICAgICBsaW5rZWRMaXN0LmFwcGVuZCg0KTtcblxuICAgICAgICBjb25zdCBlcXVhbE9uZSA9ICh2YWx1ZSkgPT4gdmFsdWUgPT09IDE7XG4gICAgICAgIGNvbnN0IGVxdWFsRml2ZSA9ICh2YWx1ZSkgPT4gdmFsdWUgPT09IDU7XG4gICAgICAgIGV4cGVjdChsaW5rZWRMaXN0LmZpbmQoeyBjYWxsYmFjazogZXF1YWxPbmUgfSkudG9TdHJpbmcoKSkudG9CZSgnMScpXG4gICAgICAgIGV4cGVjdChsaW5rZWRMaXN0LmZpbmQoeyBjYWxsYmFjazogZXF1YWxGaXZlIH0pKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaW5kIG5vZGUgYnkgbWVhbnMgb2YgY3VzdG9tIGNvbXBhcmUgZnVuY3Rpb24nLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbXBhcmF0b3JGdW5jdGlvbiA9IChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYS5jdXN0b21WYWx1ZSA9PT0gYi5jdXN0b21WYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYS5jdXN0b21WYWx1ZSA8IGIuY3VzdG9tVmFsdWUgPyAtMSA6IDE7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgbGlua2VkTGlzdCA9IG5ldyBMaW5rZWRMaXN0KGNvbXBhcmF0b3JGdW5jdGlvbik7XG4gICAgICAgIGxpbmtlZExpc3RcbiAgICAgICAgICAgIC5hcHBlbmQoeyB2YWx1ZTogMSwgY3VzdG9tVmFsdWU6ICd0ZXN0MSd9KVxuICAgICAgICAgICAgLmFwcGVuZCh7IHZhbHVlOiAyLCBjdXN0b21WYWx1ZTogJ3Rlc3QyJ30pXG4gICAgICAgICAgICAuYXBwZW5kKHsgdmFsdWU6IDMsIGN1c3RvbVZhbHVlOiAndGVzdDMnfSk7XG5cbiAgICAgICAgY29uc3Qgbm9kZSA9IGxpbmtlZExpc3QuZmluZCh7XG4gICAgICAgICAgICB2YWx1ZTogeyB2YWx1ZTogMiwgY3VzdG9tVmFsdWU6ICd0ZXN0MicgfVxuICAgICAgICB9KTtcblxuICAgICAgICBleHBlY3Qobm9kZSkudG9CZURlZmluZWQoKTtcbiAgICAgICAgZXhwZWN0KG5vZGUudmFsdWUudmFsdWUpLnRvQmUoMik7XG4gICAgICAgIGV4cGVjdChub2RlLnZhbHVlLmN1c3RvbVZhbHVlKS50b0JlKCd0ZXN0MicpO1xuICAgICAgICBleHBlY3QobGlua2VkTGlzdC5maW5kKHsgdmFsdWU6IDIsIGN1c3RvbVZhbHVlOiAndGVzdDUnIH0pKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkZWxldGUgbm9kZSBieSB2YWx1ZSBmcm9tIGxpbmtlZCBsaXN0JywgKCkgPT4ge1xuICAgICAgICBjb25zdCBsaW5rZWRMaXN0ID0gbmV3IExpbmtlZExpc3QoKTtcblxuICAgICAgICBleHBlY3QobGlua2VkTGlzdC5kZWxldGUoNSkpLnRvQmVOdWxsKCk7XG5cbiAgICAgICAgbGlua2VkTGlzdC5hcHBlbmQoMSk7XG4gICAgICAgIGxpbmtlZExpc3QuYXBwZW5kKDEpO1xuICAgICAgICBsaW5rZWRMaXN0LmFwcGVuZCgyKTtcbiAgICAgICAgbGlua2VkTGlzdC5hcHBlbmQoMyk7XG4gICAgICAgIGxpbmtlZExpc3QuYXBwZW5kKDMpO1xuICAgICAgICBsaW5rZWRMaXN0LmFwcGVuZCgzKTtcbiAgICAgICAgbGlua2VkTGlzdC5hcHBlbmQoNCk7XG4gICAgICAgIGxpbmtlZExpc3QuYXBwZW5kKDUpO1xuICAgICAgICBleHBlY3QobGlua2VkTGlzdC5oZWFkLnRvU3RyaW5nKCkpLnRvQmUoJzEnKTtcbiAgICAgICAgZXhwZWN0KGxpbmtlZExpc3QudGFpbC50b1N0cmluZygpKS50b0JlKCc1Jyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBkZWxldGVkTm9kZSA9IGxpbmtlZExpc3QuZGVsZXRlKDMpO1xuICAgICAgICBleHBlY3QoZGVsZXRlZE5vZGUudmFsdWUpLnRvQmUoMyk7XG4gICAgICAgIGV4cGVjdChsaW5rZWRMaXN0LnRvU3RyaW5nKCkpLnRvQmUoJzEsMSwyLDQsNScpO1xuXG4gICAgICAgIGxpbmtlZExpc3QuZGVsZXRlKDEpO1xuICAgICAgICBleHBlY3QobGlua2VkTGlzdC50b1N0cmluZygpKS50b0JlKCcyLDQsNScpO1xuICAgIFxuICAgICAgICBsaW5rZWRMaXN0LmRlbGV0ZSgyKTtcbiAgICAgICAgZXhwZWN0KGxpbmtlZExpc3QudG9TdHJpbmcoKSkudG9CZSgnNCw1Jyk7XG5cbiAgICAgICAgbGlua2VkTGlzdC5kZWxldGUoNCk7XG4gICAgICAgIGV4cGVjdChsaW5rZWRMaXN0LnRvU3RyaW5nKCkpLnRvQmUoJzUnKTtcblxuICAgICAgICBsaW5rZWRMaXN0LmRlbGV0ZSg1KTtcbiAgICAgICAgZXhwZWN0KGxpbmtlZExpc3QudG9TdHJpbmcoKSkudG9CZSgnJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRlbGV0ZSB0YWlsIG5vZGUgZnJvbSBsaW5rZWQgbGlzdCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgbGlua2VkTGlzdCA9IG5ldyBMaW5rZWRMaXN0KCk7XG5cbiAgICAgICAgbGlua2VkTGlzdC5hcHBlbmQoMSk7XG4gICAgICAgIGxpbmtlZExpc3QuYXBwZW5kKDIpO1xuICAgICAgICBsaW5rZWRMaXN0LmFwcGVuZCgzKTtcbiAgICAgICAgZXhwZWN0KGxpbmtlZExpc3QudGFpbC50b1N0cmluZygpKS50b0JlKCczJyk7XG5cbiAgICAgICAgbGlua2VkTGlzdC5kZWxldGVUYWlsKCk7XG4gICAgICAgIGV4cGVjdChsaW5rZWRMaXN0LnRhaWwudG9TdHJpbmcoKSkudG9CZSgnMicpXG5cbiAgICAgICAgbGlua2VkTGlzdC5kZWxldGVUYWlsKCk7XG4gICAgICAgIGxpbmtlZExpc3QuZGVsZXRlVGFpbCgpO1xuICAgICAgICBleHBlY3QobGlua2VkTGlzdC50YWlsKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkZWxldGUgaGVhZCBub2RlIGZyb20gbGlua2VkIGxpc3QnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmtlZExpc3QgPSBuZXcgTGlua2VkTGlzdCgpO1xuXG4gICAgICAgIGxpbmtlZExpc3QuYXBwZW5kKDEpO1xuICAgICAgICBsaW5rZWRMaXN0LmFwcGVuZCgyKTtcbiAgICAgICAgbGlua2VkTGlzdC5hcHBlbmQoMyk7XG4gICAgICAgIGV4cGVjdChsaW5rZWRMaXN0LmhlYWQudG9TdHJpbmcoKSkudG9CZSgnMScpO1xuXG4gICAgICAgIGxpbmtlZExpc3QuZGVsZXRlSGVhZCgpO1xuICAgICAgICBleHBlY3QobGlua2VkTGlzdC5oZWFkLnRvU3RyaW5nKCkpLnRvQmUoJzInKTtcbiAgICAgICAgXG4gICAgICAgIGxpbmtlZExpc3QuZGVsZXRlSGVhZCgpO1xuICAgICAgICBsaW5rZWRMaXN0LmRlbGV0ZUhlYWQoKTtcbiAgICAgICAgZXhwZWN0KGxpbmtlZExpc3QuaGVhZCkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFrZSBsaW5rZWQgbGlzdCBmcm9tIGFycmF5IGxpc3QnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmtlZExpc3QgPSBuZXcgTGlua2VkTGlzdCgpO1xuICAgICAgICBjb25zdCBhcnJheUxpc3QgPSBbMSwgMiwgMywgNF07XG4gICAgICAgIGV4cGVjdChsaW5rZWRMaXN0LmZyb21BcnJheShhcnJheUxpc3QpLnRvU3RyaW5nKCkpLnRvQmUoJzEsMiwzLDQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV2ZXJzZSBsaXN0IGZyb20gbGlua2VkIGxpc3QnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmtlZExpc3QgPSBuZXcgTGlua2VkTGlzdCgpO1xuXG4gICAgICAgIGxpbmtlZExpc3QuYXBwZW5kKDEpO1xuICAgICAgICBsaW5rZWRMaXN0LmFwcGVuZCgyKTtcbiAgICAgICAgbGlua2VkTGlzdC5hcHBlbmQoMyk7XG4gICAgICAgIGxpbmtlZExpc3QuYXBwZW5kKDQpO1xuICAgICAgICBleHBlY3QobGlua2VkTGlzdC5yZXZlcnNlKCkudG9TdHJpbmcoKSkudG9CZSgnNCwzLDIsMScpO1xuICAgIH0pO1xufSkiXX0=